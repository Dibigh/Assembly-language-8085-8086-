LXI SP,9030H
LXI H, 9000H
LXI D,9010H
MVI C,0AH
LOOP1: MOV A,M
ANI F0H
RRC
RRC
RRC
RRC
MOV B,A
PUSH D
MVI D,00H
MVI E,04H
MOV A,M
ANI 0FH
CALL BODY
MVI E,04H
MOV A,B
CALL BODY
MOV A,D
POP D
XCHG
MOV M,A
XCHG
INX D
INX H
DCR C
JNZ LOOP1
END: HLT  
BODY: RAR
JNC CHECK
INR D
CHECK:DCR E
JNZ BODY
RET
 